# Comparing `tmp/odoo_addon_account_invoice_crm_tag-15.0.1.0.1-py3-none-any.whl.zip` & `tmp/odoo_addon_account_invoice_crm_tag-15.0.1.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,23 +1,23 @@
-Zip file size: 24638 bytes, number of entries: 21
--rw-r--r--  2.0 unx     3053 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/README.rst
--rw-r--r--  2.0 unx       42 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/__init__.py
--rw-r--r--  2.0 unx      547 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/__manifest__.py
--rw-r--r--  2.0 unx     1748 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/i18n/account_invoice_crm_tag.pot
--rw-r--r--  2.0 unx     2025 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/i18n/es.po
--rw-r--r--  2.0 unx       52 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/models/__init__.py
--rw-r--r--  2.0 unx     1001 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/models/account_move.py
--rw-r--r--  2.0 unx      377 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/models/sale_order.py
--rw-r--r--  2.0 unx       66 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      137 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      211 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/readme/USAGE.rst
--rw-r--r--  2.0 unx       37 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/report/__init__.py
--rw-r--r--  2.0 unx      524 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/report/account_invoice_report.py
--rw-r--r--  2.0 unx      918 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/report/account_invoice_report.xml
--rw-r--r--  2.0 unx     9455 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/static/description/icon.png
--rw-r--r--  2.0 unx    12348 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/static/description/index.html
--rw-r--r--  2.0 unx      691 b- defN 23-Jul-27 02:44 odoo/addons/account_invoice_crm_tag/views/account_invoice_views.xml
--rw-r--r--  2.0 unx     3600 b- defN 23-Jul-27 02:45 odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-27 02:45 odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jul-27 02:45 odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2361 b- defN 23-Jul-27 02:45 odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/RECORD
-21 files, 39290 bytes uncompressed, 20546 bytes compressed:  47.7%
+Zip file size: 24906 bytes, number of entries: 21
+-rw-r--r--  2.0 unx     3072 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/README.rst
+-rw-r--r--  2.0 unx       42 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/__init__.py
+-rw-r--r--  2.0 unx      547 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/__manifest__.py
+-rw-r--r--  2.0 unx     1888 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/i18n/account_invoice_crm_tag.pot
+-rw-r--r--  2.0 unx     2025 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/i18n/es.po
+-rw-r--r--  2.0 unx       52 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/models/__init__.py
+-rw-r--r--  2.0 unx     1001 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/models/account_move.py
+-rw-r--r--  2.0 unx      883 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/models/sale_order.py
+-rw-r--r--  2.0 unx       85 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      137 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      211 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/readme/USAGE.rst
+-rw-r--r--  2.0 unx       37 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/report/__init__.py
+-rw-r--r--  2.0 unx      524 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/report/account_invoice_report.py
+-rw-r--r--  2.0 unx      918 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/report/account_invoice_report.xml
+-rw-r--r--  2.0 unx     9455 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/static/description/icon.png
+-rw-r--r--  2.0 unx    12372 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/static/description/index.html
+-rw-r--r--  2.0 unx      770 b- defN 23-Aug-03 08:13 odoo/addons/account_invoice_crm_tag/views/account_invoice_views.xml
+-rw-r--r--  2.0 unx     3619 b- defN 23-Aug-03 08:13 odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-03 08:13 odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Aug-03 08:13 odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2361 b- defN 23-Aug-03 08:13 odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/RECORD
+21 files, 40096 bytes uncompressed, 20814 bytes compressed:  48.1%
```

## zipnote {}

```diff
@@ -45,20 +45,20 @@
 
 Filename: odoo/addons/account_invoice_crm_tag/static/description/index.html
 Comment: 
 
 Filename: odoo/addons/account_invoice_crm_tag/views/account_invoice_views.xml
 Comment: 
 
-Filename: odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/METADATA
+Filename: odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/WHEEL
+Filename: odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/top_level.txt
+Filename: odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/RECORD
+Filename: odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/account_invoice_crm_tag/README.rst

```diff
@@ -61,14 +61,15 @@
 
 Contributors
 ~~~~~~~~~~~~
 
 * `Tecnativa <https://www.tecnativa.com>`_:
 
   * Stefan Ungureanu
+  * Pedro M. Baeza
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
```

## odoo/addons/account_invoice_crm_tag/__manifest__.py

```diff
@@ -1,12 +1,12 @@
 # Copyright 2023 Tecnativa - Stefan Ungureanu
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
 {
     "name": "Account Invoice CRM Tag",
-    "version": "15.0.1.0.1",
+    "version": "15.0.1.0.2",
     "category": "Accounting",
     "author": "Tecnativa, Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/account-invoicing",
     "license": "AGPL-3",
     "depends": ["sale"],
     "data": [
         "views/account_invoice_views.xml",
```

## odoo/addons/account_invoice_crm_tag/i18n/account_invoice_crm_tag.pot

```diff
@@ -46,7 +46,12 @@
 msgid "Journal Item"
 msgstr ""
 
 #. module: account_invoice_crm_tag
 #: model:ir.model,name:account_invoice_crm_tag.model_sale_order
 msgid "Sales Order"
 msgstr ""
+
+#. module: account_invoice_crm_tag
+#: model:ir.model,name:account_invoice_crm_tag.model_sale_order_line
+msgid "Sales Order Line"
+msgstr ""
```

## odoo/addons/account_invoice_crm_tag/models/sale_order.py

```diff
@@ -1,13 +1,26 @@
 # Copyright 2023 Tecnativa - Stefan Ungureanu
+# Copyright 2023 Tecnativa - Pedro M. Baeza
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 from odoo import models
 
 
 class SaleOrder(models.Model):
     _inherit = "sale.order"
 
     def _prepare_invoice(self):
         vals = super()._prepare_invoice()
         if self.tag_ids:
             vals["crm_tag_ids"] = [(6, 0, self.tag_ids.ids)]
         return vals
+
+
+class SaleOrderLine(models.Model):
+    _inherit = "sale.order.line"
+
+    def _prepare_invoice_line(self, **optional_values):
+        """Transfer CRM tags also to invoice lines, as although being a related stored,
+        it's not correctly saved due to the trick/duality of invoice_line_ids/line_ids.
+        """
+        res = super()._prepare_invoice_line(**optional_values)
+        res["crm_tag_ids"] = [(6, 0, self.order_id.tag_ids.ids)]
+        return res
```

## odoo/addons/account_invoice_crm_tag/readme/CONTRIBUTORS.rst

```diff
@@ -1,3 +1,4 @@
 * `Tecnativa <https://www.tecnativa.com>`_:
 
   * Stefan Ungureanu
+  * Pedro M. Baeza
```

## odoo/addons/account_invoice_crm_tag/static/description/index.html

### odoo/addons/account_invoice_crm_tag/static/description/index.html

```diff
@@ -460,14 +460,15 @@
           </h2>
           <ul class="simple">
             <li>
               <a class="reference external" href="https://www.tecnativa.com">Tecnativa</a>
               :
               <ul>
                 <li>Stefan Ungureanu</li>
+                <li>Pedro M. Baeza</li>
               </ul>
             </li>
           </ul>
         </div>
         <div class="section" id="maintainers">
           <h2>
             <a class="toc-backref" href="#id6">Maintainers</a>
```

## odoo/addons/account_invoice_crm_tag/views/account_invoice_views.xml

### odoo/addons/account_invoice_crm_tag/views/account_invoice_views.xml

```diff
@@ -1,12 +1,12 @@
 <?xml version="1.0" encoding="utf-8"?>
 <odoo>
   <record id="invoice_crm_tag_form" model="ir.ui.view">
     <field name="model">account.move</field>
     <field name="inherit_id" ref="account.view_move_form"/>
     <field name="arch" type="xml">
       <xpath expr="//page[@name='other_info']//group[@name='sale_info_group']" position="inside">
-        <field name="crm_tag_ids" widget="many2many_tags" attrs="{'invisible': [('move_type', 'not in', ['out_invoice','out_refund'])]}"/>
+        <field name="crm_tag_ids" widget="many2many_tags" attrs="{'invisible': [('move_type', 'not in', ['out_invoice','out_refund'])]}" options="{'color_field': 'color', 'no_create_edit': True}"/>
       </xpath>
     </field>
   </record>
 </odoo>
```

## Comparing `odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/METADATA` & `odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-account-invoice-crm-tag
-Version: 15.0.1.0.1
+Version: 15.0.1.0.2
 Summary: Account Invoice CRM Tag
 Home-page: https://github.com/OCA/account-invoicing
 Author: Tecnativa, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
@@ -77,14 +77,15 @@
 
 Contributors
 ~~~~~~~~~~~~
 
 * `Tecnativa <https://www.tecnativa.com>`_:
 
   * Stefan Ungureanu
+  * Pedro M. Baeza
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
```

## Comparing `odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/RECORD` & `odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,21 +1,21 @@
-odoo/addons/account_invoice_crm_tag/README.rst,sha256=wfWnK0PfWd4L8_kAAjqTmJmoF4k7RimLu1E3MAHfjQE,3053
+odoo/addons/account_invoice_crm_tag/README.rst,sha256=nLi3Fgd02JUBXdV5wli7fSSwZbSJMELnvzmi9ajn-b4,3072
 odoo/addons/account_invoice_crm_tag/__init__.py,sha256=RYGen4VvN9c8GXvMfZMuO7ERiyRCUJfuAbgo0aC3DEU,42
-odoo/addons/account_invoice_crm_tag/__manifest__.py,sha256=ocH1iJyEhyx1RdRpE8CfvVeYg_B7DeoalmcjriJIO5A,547
-odoo/addons/account_invoice_crm_tag/i18n/account_invoice_crm_tag.pot,sha256=ZD8wufzd9f1iQ9Dsl1Fm27_4AEoCdAfD-ted9ZOLbWE,1748
+odoo/addons/account_invoice_crm_tag/__manifest__.py,sha256=U6seBEuXJ5rsOmZUMC56u3ine9sDJdMBzwv42D_ZUHM,547
+odoo/addons/account_invoice_crm_tag/i18n/account_invoice_crm_tag.pot,sha256=cMFKfu-1Gew1K4L5K9P-FzTIAChv5Msoy-Usf2VtkbQ,1888
 odoo/addons/account_invoice_crm_tag/i18n/es.po,sha256=vISKshvbIeXXJwFB6IwDFAhknqcOvZCrX5yAMCQDXQI,2025
 odoo/addons/account_invoice_crm_tag/models/__init__.py,sha256=a-66fNSlX8zrGEL5oBIQngbRKfPJCMDrrh4BawHtNT8,52
 odoo/addons/account_invoice_crm_tag/models/account_move.py,sha256=pmmOyJT5yzCfZhKbj2EIDwI07ixNb_6M9uL4S0RZgAw,1001
-odoo/addons/account_invoice_crm_tag/models/sale_order.py,sha256=3B9NS7OiDmOlSLb5apJnTIa0MghLIrOxThreHeIZTho,377
-odoo/addons/account_invoice_crm_tag/readme/CONTRIBUTORS.rst,sha256=2sgpWHSo4qGuRWMQoReoUZ7o54rIG0V3fxkT292To9s,66
+odoo/addons/account_invoice_crm_tag/models/sale_order.py,sha256=wELqqz_jUB9fny3qDSZKW8edu61f4_Z-vUT_ZnDnnvw,883
+odoo/addons/account_invoice_crm_tag/readme/CONTRIBUTORS.rst,sha256=-WvQIN2xXOGxkrRmkutDdNZtiY1JBUFV4WM0GPsWf_U,85
 odoo/addons/account_invoice_crm_tag/readme/DESCRIPTION.rst,sha256=BVlcObS-BLtCR7M5j1j7UJhSm8ycuIxp5IfdPqWdnpI,137
 odoo/addons/account_invoice_crm_tag/readme/USAGE.rst,sha256=5WcOY9h7ObNPA5nJsTzkotetIG4Ic1Se4ekc8pgBcxU,211
 odoo/addons/account_invoice_crm_tag/report/__init__.py,sha256=dFbIqZ1ekuLuDOWSvYWhyKDxP7lkaMOERogFor46RWU,37
 odoo/addons/account_invoice_crm_tag/report/account_invoice_report.py,sha256=PUo-amVkR9hIcf669St8c6GoI_8LHiwTiH4gga27wSc,524
 odoo/addons/account_invoice_crm_tag/report/account_invoice_report.xml,sha256=vp2EUaZzqRSzbXu6bFPqi3njaXzIgrd3sihWbo3snRY,918
 odoo/addons/account_invoice_crm_tag/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/account_invoice_crm_tag/static/description/index.html,sha256=6PtjU0UfF4j_WIG9MvN6pzLUmsbRzQRC_9ngxXJhPt8,12348
-odoo/addons/account_invoice_crm_tag/views/account_invoice_views.xml,sha256=cmHF9zOz99fXA4RSOHuveOYY0hgg7mBM1MczTSd1Duo,691
-odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/METADATA,sha256=2b_7WzoxN7vFGvWdi8au2uieqsVhgw9MbDjDI7iBZ5Q,3600
-odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_account_invoice_crm_tag-15.0.1.0.1.dist-info/RECORD,,
+odoo/addons/account_invoice_crm_tag/static/description/index.html,sha256=J5bjf5p7qJjAPqlly1t4eGt_XzU0BGuvl-miXbC-_Xk,12372
+odoo/addons/account_invoice_crm_tag/views/account_invoice_views.xml,sha256=wnVaWMLiFXvxHNjynXrKZYcb5ljFF0stDdDTjNPKOXY,770
+odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/METADATA,sha256=tLbUSYLrJrZN3D_rNfNzO3isUUf_yElky3DVDalOROA,3619
+odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/WHEEL,sha256=AtBG6SXL3KF_v0NxLf0ehyVOh0cold-JbJYXNGorC6Q,92
+odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_account_invoice_crm_tag-15.0.1.0.2.dist-info/RECORD,,
```

